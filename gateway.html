<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>Things Network Dunedin</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="assets/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Custom styles for this template -->
    <link href="css/carousel.css" rel="stylesheet">
    <link href="assets/css/src/docs.css" rel="stylesheet">
  </head>
<!-- NAVBAR
================================================== -->
  <body>
    <div class="navbar-wrapper">
      <div class="container">

        <nav class="navbar navbar-inverse navbar-static-top">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="#">Things Network Dunedin</a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
              <ul class="nav navbar-nav">
                <li class="active"><a href="#">Home</a></li>
		<li><a href="#blog">Blog</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>
                <li class="dropdown">
                  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">How-to <span class="caret"></span></a>
                  <ul class="dropdown-menu">
                    <li><a href="#">Creating a LoRaWAN Gateway</a></li>
                    <li><a href="#">Another action</a></li>
                    <li><a href="#">Something else here</a></li>
                    <li role="separator" class="divider"></li>
                    <li class="dropdown-header">Nav header</li>
                    <li><a href="#">Separated link</a></li>
                    <li><a href="#">One more separated link</a></li>
                  </ul>
                </li>
              </ul>
            </div>
          </div>
        </nav>

      </div>
    </div>

    <!-- Carousel
    ================================================== -->
    <div id="myCarousel" class="carousel slide" data-ride="carousel">
      <!-- Indicators -->
      <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#myCarousel" data-slide-to="1"></li>
        <li data-target="#myCarousel" data-slide-to="2"></li>
      </ol>
      <div class="carousel-inner" role="listbox">
        <div class="item active">
	<!-- IMG OF TEAM MEMBERS -->
	<img class="first-slide" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="First slide">
          <div class="container">
            <div class="carousel-caption">
              <h1>Example headline.</h1>
              <p>Note: If you're viewing this page via a <code>file://</code> URL, the "next" and "previous" Glyphicon buttons on the left and right might not load/display properly due to web browser security rules.</p>
              <p><a class="btn btn-lg btn-primary" href="#" role="button">Sign up today</a></p>
            </div>
          </div>
        </div>
        <div class="item">
          <img class="second-slide" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Second slide">
          <div class="container">
            <div class="carousel-caption">
              <h1>Another example headline.</h1>
              <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>
              <p><a class="btn btn-lg btn-primary" href="#" role="button">Learn more</a></p>
            </div>
          </div>
        </div>
        <div class="item">
          <img class="third-slide" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Third slide">
          <div class="container">
            <div class="carousel-caption">
              <h1>One more for good measure.</h1>
              <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>
              <p><a class="btn btn-lg btn-primary" href="#" role="button">Browse gallery</a></p>
            </div>
          </div>
        </div>
      </div>
      <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div><!-- /.carousel -->

    <!-- Marketing messaging and featurettes
    ================================================== -->
    <!-- Wrap the rest of the page in another container to center all the content. -->

    <div class="container marketing">

      <!-- START THE FEATURETTES -->

      <!-- <hr class="featurette-divider"> -->

      <div class="row featurette">
        <div class="col-md-7">
          <h2 class="featurette-heading">Creating <span class="text-muted">a LoRaWAN Gateway</span></h2>
          <p class="lead">There are many options you can pursue when choosing the hardware to use for LoRaWAN applications. You can choose to simply buy the pre-made TTN Gateway directly from TTN themselves, or you can choose a cheaper, more DIY route.</p>
          <p class="lead">For our LoRaWAN Gateway we chose to build and configure our own. This quick how-to describes how our gateway was created, from choosing the correct parts to installing software.</p>
        </div>
        <div class="col-md-5">
          <img class="featurette-image img-responsive center-block" data-src="holder.js/500x500/auto" alt="Generic placeholder image">
        </div>
      </div>

      <hr class="featurette-divider">

      <div class="row featurette">
        <div class="col-md-7 col-md-push-5">
          <h2 class="featurette-heading">Choosing <span class="text-muted">the Correct Hardware</span></h2>
          <p class="lead">When building the gateway for yourself you need to make sure the hardware you choose is compatible. There are multiple options, but we will only focus on the option that we pursued.</p>
          <p class="lead">We need the following hardware before we can get started:</p>
          <ul class="lead">
            <li>Raspberry Pi – A Raspberry Pi is used as the main controller for the gateway. It will hold and run our software, and will be connected to the rest of our devices. Any Raspberry Pi model will do, but faster is generally better.</li>
            <li>Multitech mCard-LoRa – This is the main sender and receiver of LoRaWAN packets, without this hardware the gateway will not be able to talk to our nodes. This device comes with an antenna, and is PCIe compatible.</li>
            <li>USB to Mini-PCIe Convertor – This adaptor is necessary to connect the mCard to the Raspberry Pi, as the Pi does not have a Mini-PCIe slot itself.</li>
          </ul>
        </div>
        <div class="col-md-5 col-md-pull-7">
          <img class="featurette-image img-responsive center-block" data-src="holder.js/500x500/auto" alt="Generic placeholder image">
        </div>
      </div>

      <hr class="featurette-divider">

      <div class="row featurette">
        <div class="col-md-7">
          <h2 class="featurette-heading">Hardware <span class="text-muted">Modifications</span></h2>
          <p class="lead">Something you may need to do is a small hardware modification on the Mini-PCIe adaptor. We didn’t end up having to do it, as our board worked anyway. However, if you have completely set up the gateway and it still doesn’t seem to be working, you can try this optional step.</p>
          <p class="lead">Sometimes it may be necessary to provide extra power to a couple of the pins on the adaptor. To do this we need to solder a wire from the 5V pin on the USB connector to pins 23 and 25 of the PCIe connector. Below is a picture of the completed modification:</p>
          <p class="lead">That is all you need to do to modify the hardware.</p>
        </div>
        <div class="col-md-5">
          <img class="featurette-image img-responsive center-block" data-src="holder.js/500x500/auto" alt="Generic placeholder image">
        </div>
      </div>

      <hr class="featurette-divider">

      <div class="row featurette">
        <div class="col-md-7 col-md-push-5">
          <h2 class="featurette-heading">Installing and <span class="text-muted">Running Software</span></h2>
          <p class="lead">To be able to install the gateway software on the Raspberry Pi, the Pi itself needs to be set up. We used Raspbian, a version of Debian designed to run on a Raspberry Pi’s architecture. We won’t cover how to install Raspbian, as there is already a lot of documentation out there for it and it can be installed incredibly quickly and easily through NOOBS for Raspberry Pi.</p>
          <p class="lead">Once you have a working version of Raspbian on your Raspberry Pi, you need to get the gateway software. There are multiple parts of software we need, so follow the next instructions carefully:</p>
          <figure class="highlight">
<pre><code>sudo apt-get update
sudo apt-get install git --assume-yes
sudo apt-get install libftdi-dev --assume-yes
cd ~
wget http://libmpsse.googlecode.com/files/libmpsse-1.3.tar.gz
tar zxvf libmpsse-1.3.tar.gz
cd libmpsse-1.3/src
./configure --prefix=/usr --disable-python
make
sudo make install
cd /etc/udev/rules.d
sudo wget https://raw.githubusercontent.com/mirakonta/lora_gateway/master/libloragw/99-libftdi.rules
sudo udevadm control --reload-rules
sudo udevadm trigger
sudo adduser pi plugdev
cd ~</code></pre>
          </figure>
          <p class="lead">Now we have our dependencies we can download and compile the LoRaWAN Gateway Software:</p>
          <figure class="highlight">
<pre><code>mkdir ~/lora
cd ~/lora
mkdir exec
git clone https://github.com/mirakonta/lora_gateway.git
git clone https://github.com/mirakonta/packet_forwarder.git
cd ~/lora/lora_gateway
make clean all
cd ~/lora/packet_forwarder
make clean all
cp ~/lora/packet_forwarder/basic_pkt_fwd/basic_pkt_fwd ~/lora/exec/
cp ~/lora/packet_forwarder/basic_pkt_fwd/*.json ~/lora/exec/
cd ~/lora/exec</code></pre>
          </figure>
          <p class="lead">The gateway code is now compiled and ready to go. To run the gateway, simply run the command:</p>
          <figure class="highlight">
<pre><code>sudo ./basic_pkt_fwd</code></pre>
          </figure>
        </div>
        <div class="col-md-5 col-md-pull-7">
          <img class="featurette-image img-responsive center-block" data-src="holder.js/500x500/auto" alt="Generic placeholder image">
        </div>
      </div>

      <hr class="featurette-divider">

      <!-- /END THE FEATURETTES -->


      <!-- FOOTER -->
      <footer>
        <p class="pull-right"><a href="#">Back to top</a></p>
        <p>&copy; 2016 Company, Inc. &middot; <a href="#">Privacy</a> &middot; <a href="#">Terms</a></p>
      </footer>

    </div><!-- /.container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="js/bootstrap.min.js"></script>
    <!-- Just to make our placeholder images work. Don't actually copy the next line! -->
    <script src="assets/js/vendor/holder.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="assets/js/ie10-viewport-bug-workaround.js"></script>
  </body>
</html>
